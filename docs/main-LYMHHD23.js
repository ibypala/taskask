import{$ as te,B as Y,C as c,D as E,E as A,F as D,G as N,H as j,I as R,J as F,L as W,M as q,N as G,O as x,P as $,R as u,S as U,T as Z,U as H,V as M,W as J,X as K,Y as Q,Z as X,_ as ee,aa as ne,ba as oe,c as B,ca as ie,d as T,da as re,e as h,f as b,fa as ae,g as I,ga as v,h as V,ha as se,m as a,o as m,p as g,q as l,t as s,u as o,v as r,w as f,x as L,y as _,z as C}from"./chunk-2IFXHPLS.js";function de(t,i){if(t&1){let e=L();o(0,"div",3)(1,"div",4),c(2),r(),o(3,"button",5),_("click",function(){let p=h(e).$implicit,d=C();return b(d.toast.remove(p.id))}),c(4,"\u2715"),r()()}if(t&2){let e=i.$implicit;Y("hidden",e.type==="confirm"),s("ngClass",e.type),a(2),E(e.message)}}function me(t,i){if(t&1){let e=L();o(0,"div",7)(1,"div",8)(2,"div",9),c(3),r(),o(4,"div",10)(5,"button",11),_("click",function(){h(e);let p=C().$implicit;return b(p.onCancel&&p.onCancel())}),c(6,"\u041E\u0442\u043C\u0435\u043D\u0430"),r(),o(7,"button",12),_("click",function(){h(e);let p=C().$implicit;return b(p.onConfirm&&p.onConfirm())}),c(8,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"),r()()()()}if(t&2){let e=C().$implicit;a(3),E(e.message)}}function ge(t,i){if(t&1&&(o(0,"div"),l(1,me,9,1,"div",6),r()),t&2){let e=i.$implicit;a(),s("ngIf",e.type==="confirm")}}var O=class t{constructor(i){this.toast=i}static \u0275fac=function(e){return new(e||t)(m(K))};static \u0275cmp=g({type:t,selectors:[["app-toast"]],decls:3,vars:2,consts:[["aria-live","polite","aria-atomic","true",1,"toast-wrap"],["class","toast",3,"ngClass","hidden",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"toast",3,"ngClass"],[1,"message"],[1,"close",3,"click"],["class","confirm-overlay",4,"ngIf"],[1,"confirm-overlay"],[1,"confirm-modal"],[1,"confirm-message"],[1,"confirm-actions"],[1,"btn-cancel",3,"click"],[1,"btn-confirm",3,"click"]],template:function(e,n){e&1&&(o(0,"div",0),l(1,de,5,4,"div",1),r(),l(2,ge,2,1,"div",2)),e&2&&(a(),s("ngForOf",n.toast.toasts()),a(),s("ngForOf",n.toast.toasts()))},dependencies:[u,q,G,x],styles:[".toast-wrap[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:16px;display:flex;flex-direction:column;gap:8px;z-index:9999}.toast[_ngcontent-%COMP%]{min-width:240px;max-width:360px;padding:12px 14px;border-radius:8px;color:#fff;box-shadow:0 6px 20px #0000001f;display:flex;align-items:center;justify-content:space-between;gap:12px;transform-origin:right bottom;animation:_ngcontent-%COMP%_toastIn .18s ease}.toast.success[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2ecc71,#27ae60)}.toast.error[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e74c3c,#c0392b)}.toast.info[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3498db,#2c82c9)}.toast.hidden[_ngcontent-%COMP%]{display:none}.toast[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{flex:1;padding-right:8px}.toast[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background:transparent;border:none;color:#ffffffe6;font-size:14px;cursor:pointer}.confirm-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease}.confirm-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;min-width:340px;max-width:480px;box-shadow:0 10px 40px #0000004d;animation:_ngcontent-%COMP%_modalIn .25s ease}.dark[_nghost-%COMP%]   .confirm-modal[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .confirm-modal[_ngcontent-%COMP%]{background:#2d3748}.confirm-message[_ngcontent-%COMP%]{font-size:16px;color:#2d3748;margin-bottom:20px;text-align:center;font-weight:500}.dark[_nghost-%COMP%]   .confirm-message[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .confirm-message[_ngcontent-%COMP%]{color:#e2e8f0}.confirm-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;width:100%}.confirm-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .confirm-actions[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{flex:1;padding:12px 24px;border-radius:8px;border:none;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s}.confirm-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#e2e8f0;color:#4a5568}.confirm-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#cbd5e0}.dark[_nghost-%COMP%]   .confirm-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .confirm-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#4a5568;color:#e2e8f0}.dark[_nghost-%COMP%]   .confirm-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .confirm-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#5a6778}.confirm-actions[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e74c3c,#c0392b);color:#fff}.confirm-actions[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #e74c3c66}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_modalIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_toastIn{0%{transform:translateY(10px) scale(.98);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}"]})};function ue(t,i){t&1&&(o(0,"div",1)(1,"div",2),f(2,"div",3)(3,"div",4)(4,"div",5),r()())}var y=class t{constructor(i){this.loading=i}static \u0275fac=function(e){return new(e||t)(m(Q))};static \u0275cmp=g({type:t,selectors:[["app-loading-overlay"]],decls:1,vars:1,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["role","status","aria-live","polite",1,"spinner"],[1,"dot","dot1"],[1,"dot","dot2"],[1,"dot","dot3"]],template:function(e,n){e&1&&l(0,ue,5,0,"div",0),e&2&&s("ngIf",n.loading.isLoading())},dependencies:[u,x],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000047;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:9998}.spinner[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#fff;opacity:.9;transform:translateY(0);animation:_ngcontent-%COMP%_bounce .9s infinite ease-in-out}.dot2[_ngcontent-%COMP%]{animation-delay:.15s}.dot3[_ngcontent-%COMP%]{animation-delay:.3s}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0);opacity:.9}50%{transform:translateY(-8px);opacity:1}}"]})};var k=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(e,n){e&1&&f(0,"app-toast")(1,"app-loading-overlay")(2,"router-outlet")},dependencies:[u,H,O,y],encapsulation:2})};function Ce(t,i){t&1&&(I(),o(0,"svg",15),f(1,"path",16),r())}function xe(t,i){t&1&&(I(),o(0,"svg",15),f(1,"circle",17)(2,"line",18)(3,"line",19)(4,"line",20)(5,"line",21)(6,"line",22)(7,"line",23)(8,"line",24)(9,"line",25),r())}function he(t,i){if(t&1&&(o(0,"div",26),c(1),r()),t&2){let e=C();a(),A(" ",e.errorMessage," ")}}function be(t,i){t&1&&(o(0,"span"),c(1,"\u0412\u043E\u0439\u0442\u0438"),r())}function Me(t,i){t&1&&(o(0,"span"),c(1,"\u0412\u0445\u043E\u0434..."),r())}var w=class t{constructor(i,e,n,p){this.authService=i;this.router=e;this.route=n;this.themeService=p}username="";password="";errorMessage="";isLoading=!1;onSubmit(){if(!this.username||!this.password){this.errorMessage="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043B\u043E\u0433\u0438\u043D \u0438 \u043F\u0430\u0440\u043E\u043B\u044C";return}this.isLoading=!0,this.errorMessage="",setTimeout(()=>{if(this.authService.login(this.username,this.password)){let e=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigate([e])}else this.errorMessage="\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043B\u043E\u0433\u0438\u043D \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C",this.isLoading=!1},500)}toggleTheme(){this.themeService.toggleTheme()}getDemoCredentials(){return"\u0414\u0435\u043C\u043E: admin/admin123 \u0438\u043B\u0438 user/user123"}static \u0275fac=function(e){return new(e||t)(m(v),m(M),m(Z),m(se))};static \u0275cmp=g({type:t,selectors:[["app-login"]],decls:27,vars:15,consts:[[1,"login-container"],["title","\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0442\u0435\u043C\u0443",1,"theme-toggle-login",3,"click"],["class","theme-icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043B\u043E\u0433\u0438\u043D","required","",3,"ngModelChange","ngModel","disabled"],["for","password"],["type","password","id","password","name","password","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C","required","",3,"ngModelChange","ngModel","disabled"],["class","error-message",4,"ngIf"],["type","submit",1,"btn-login",3,"disabled"],[4,"ngIf"],[1,"demo-info"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"theme-icon"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],[1,"error-message"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"button",1),_("click",function(){return n.toggleTheme()}),l(2,Ce,2,0,"svg",2),R(3,"async"),l(4,xe,10,0,"svg",2),R(5,"async"),r(),o(6,"div",3)(7,"div",4)(8,"h1"),c(9,"Taskask"),r(),o(10,"p"),c(11,"\u0412\u0445\u043E\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443"),r()(),o(12,"form",5),_("ngSubmit",function(){return n.onSubmit()}),o(13,"div",6)(14,"label",7),c(15,"\u041B\u043E\u0433\u0438\u043D"),r(),o(16,"input",8),j("ngModelChange",function(d){return N(n.username,d)||(n.username=d),d}),r()(),o(17,"div",6)(18,"label",9),c(19,"\u041F\u0430\u0440\u043E\u043B\u044C"),r(),o(20,"input",10),j("ngModelChange",function(d){return N(n.password,d)||(n.password=d),d}),r()(),l(21,he,2,1,"div",11),o(22,"button",12),l(23,be,2,0,"span",13)(24,Me,2,0,"span",13),r(),o(25,"div",14),c(26),r()()()()),e&2&&(a(2),s("ngIf",!F(3,11,n.themeService.isDarkMode$)),a(2),s("ngIf",F(5,13,n.themeService.isDarkMode$)),a(12),D("ngModel",n.username),s("disabled",n.isLoading),a(4),D("ngModel",n.password),s("disabled",n.isLoading),a(),s("ngIf",n.errorMessage),a(),s("disabled",n.isLoading),a(),s("ngIf",!n.isLoading),a(),s("ngIf",n.isLoading),a(2),A(" ",n.getDemoCredentials()," "))},dependencies:[u,x,ae,ie,X,ee,te,re,oe,ne,$],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;position:relative}.theme-toggle-login[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background:#fff;border:2px solid rgb(0,71,132);border-radius:12px;padding:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00478426;width:48px;height:48px}.dark[_nghost-%COMP%]   .theme-toggle-login[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .theme-toggle-login[_ngcontent-%COMP%]{background:#343a40;border-color:#0064b4;box-shadow:0 4px 12px #0064b440}.theme-toggle-login[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #00478440}.dark[_nghost-%COMP%]   .theme-toggle-login[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .theme-toggle-login[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #0064b459}.theme-toggle-login[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{width:24px;height:24px;color:#004784;transition:all .2s}.dark[_nghost-%COMP%]   .theme-toggle-login[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .theme-toggle-login[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%]{color:#0064b4}.login-card[_ngcontent-%COMP%]{background:#fff;border:2px solid rgb(0,71,132);border-radius:16px;padding:40px;width:100%;max-width:400px;box-shadow:0 8px 32px #00478433}.dark[_nghost-%COMP%]   .login-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .login-card[_ngcontent-%COMP%]{background:#343a40;border-color:#0064b4;box-shadow:0 8px 32px #0064b44d}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.8rem;font-weight:700;color:#004784}.dark[_nghost-%COMP%]   .login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0064b4}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-size:.95rem}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid rgba(0,0,0,.1);border-radius:8px;font-size:1rem;background:#f8f9fa;color:var(--text-primary);transition:all .2s}.dark[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#212529;border-color:#ffffff1a}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#004784;background:#fff}.dark[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .dark   [_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#0064b4;background:#343a40}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{padding:12px;background:#dc35451a;border:1px solid rgba(220,53,69,.3);border-radius:8px;color:#dc3545;font-size:.9rem;text-align:center}.btn-login[_ngcontent-%COMP%]{padding:14px;background:#004784;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:0 4px 12px #0047844d}.btn-login[_ngcontent-%COMP%]:hover:not(:disabled){background:#003869;transform:translateY(-2px);box-shadow:0 6px 20px #00478466}.btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.demo-info[_ngcontent-%COMP%]{text-align:center;padding:12px;background:#0047840d;border-radius:8px;font-size:.85rem;color:var(--text-secondary);border:1px solid rgba(0,71,132,.1)}.dark[_nghost-%COMP%]   .demo-info[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .demo-info[_ngcontent-%COMP%]{background:#0064b41a;border-color:#0064b433}"]})};var S=class t{constructor(i,e){this.authService=i;this.router=e}canActivate(i,e){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!1)}static \u0275fac=function(e){return new(e||t)(T(v),T(M))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var pe=[{path:"login",component:w},{path:"",canActivate:[S],loadComponent:()=>import("./chunk-SVZOVC6V.js").then(t=>t.TasksComponent)},{path:"**",redirectTo:""}];var le={providers:[V(),W({eventCoalescing:!0}),J(pe)]};U(k,le);
