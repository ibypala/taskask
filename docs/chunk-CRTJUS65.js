import{$ as Y,A as d,B as j,C as S,D as c,E as C,F as y,G as E,H as D,I,J as w,K as V,L as ie,P as M,Q as oe,R as re,S as v,W as ae,Y as T,Z as se,_ as B,a as $,b as J,c as K,ca as H,e as A,f as p,fa as le,g,ga as U,h as z,ha as ce,ia as de,j as Q,k as Z,l as ee,m as O,n as s,o as b,p as P,q as k,r as f,s as te,t as ne,u as l,v as r,w as a,x as h,y as x,z as u}from"./chunk-DYALZ5IX.js";function ge(t,n){if(t&1){let e=x();r(0,"button",19),u("click",function(){p(e);let o=d();return g(o.addTask.emit())}),r(1,"span",20),c(2,"+"),a(),r(3,"span",21),c(4,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443"),a()()}}function me(t,n){if(t&1&&(r(0,"div",22)(1,"span",23),c(2),a(),r(3,"span",24),c(4),a()()),t&2){let e=d();s(),S("admin",e.currentUser.role==="admin")("user",e.currentUser.role==="user"),s(),y(" ",e.currentUser.role==="admin"?"\u{1F451} \u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440":"\u{1F464} \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C"," "),s(2),C(e.currentUser.username)}}function _e(t,n){t&1&&(z(),r(0,"svg",25),h(1,"path",26),a())}function fe(t,n){t&1&&(z(),r(0,"svg",25),h(1,"circle",27)(2,"line",28)(3,"line",29)(4,"line",30)(5,"line",31)(6,"line",32)(7,"line",33)(8,"line",34)(9,"line",35),a())}function xe(t,n){if(t&1&&(r(0,"div",36)(1,"span",37),c(2),a(),r(3,"div",38),c(4),a()()),t&2){let e=d();s(),S("admin",e.currentUser.role==="admin"),s(),y(" ",e.currentUser.role==="admin"?"\u{1F451} \u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440":"\u{1F464} \u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C"," "),s(2),C(e.currentUser.username)}}function he(t,n){if(t&1){let e=x();r(0,"button",39),u("click",function(){p(e);let o=d();return o.addTask.emit(),g(o.closeMenu())}),r(1,"span",40),c(2,"+"),a(),r(3,"span"),c(4,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443"),a()()}}function be(t,n){t&1&&(z(),r(0,"svg",41),h(1,"path",26),a())}function Ce(t,n){t&1&&(z(),r(0,"svg",41),h(1,"circle",27)(2,"line",28)(3,"line",29)(4,"line",30)(5,"line",31)(6,"line",32)(7,"line",33)(8,"line",34)(9,"line",35),a())}var X=class t{constructor(n,e){this.themeService=n;this.toast=e}isAdmin=!1;currentUser=null;addTask=new b;logout=new b;menuOpen=!1;toggleTheme(){this.themeService.toggleTheme()}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}onLogout(){this.toast.confirm("\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0432\u044B\u0439\u0442\u0438?",()=>{this.closeMenu(),this.logout.emit()},void 0,"\u0412\u044B\u0439\u0442\u0438","\u041E\u0441\u0442\u0430\u0442\u044C\u0441\u044F")}static \u0275fac=function(e){return new(e||t)(P(de),P(T))};static \u0275cmp=k({type:t,selectors:[["app-header"]],inputs:{isAdmin:"isAdmin",currentUser:"currentUser"},outputs:{addTask:"addTask",logout:"logout"},decls:36,vars:25,consts:[[1,"app-header"],[1,"header-title"],[1,"header-actions"],[1,"desktop-menu"],["class","btn-add-task","title","\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443",3,"click",4,"ngIf"],["class","user-info",4,"ngIf"],["title","\u041F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0442\u0435\u043C\u0443",1,"theme-toggle",3,"click"],["class","theme-icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["title","\u0412\u044B\u0439\u0442\u0438",1,"btn-logout",3,"click"],[1,"hamburger",3,"click"],[1,"mobile-menu-overlay",3,"click"],[1,"mobile-menu"],["class","mobile-menu-header",4,"ngIf"],[1,"mobile-menu-items"],["class","mobile-menu-item add-task",3,"click",4,"ngIf"],[1,"mobile-menu-item",3,"click"],["class","menu-icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],[1,"mobile-menu-item","logout",3,"click"],[1,"menu-icon"],["title","\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443",1,"btn-add-task",3,"click"],[1,"plus-icon"],[1,"btn-text"],[1,"user-info"],[1,"user-badge"],[1,"username"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"theme-icon"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],[1,"mobile-menu-header"],[1,"user-badge-mobile"],[1,"username-mobile"],[1,"mobile-menu-item","add-task",3,"click"],[1,"menu-icon","plus-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"menu-icon"]],template:function(e,i){e&1&&(r(0,"header",0)(1,"div",1),c(2,"Taskask"),a(),r(3,"div",2)(4,"div",3),f(5,ge,5,0,"button",4)(6,me,5,6,"div",5),r(7,"button",6),u("click",function(){return i.toggleTheme()}),f(8,_e,2,0,"svg",7),w(9,"async"),f(10,fe,10,0,"svg",7),w(11,"async"),a(),r(12,"button",8),u("click",function(){return i.onLogout()}),c(13," \u{1F6AA} \u0412\u044B\u0445\u043E\u0434 "),a()(),r(14,"button",9),u("click",function(){return i.toggleMenu()}),h(15,"span")(16,"span")(17,"span"),a()()(),r(18,"div",10),u("click",function(){return i.closeMenu()}),a(),r(19,"div",11),f(20,xe,5,4,"div",12),r(21,"div",13),f(22,he,5,0,"button",14),r(23,"button",15),u("click",function(){return i.toggleTheme()}),f(24,be,2,0,"svg",16),w(25,"async"),f(26,Ce,10,0,"svg",16),w(27,"async"),r(28,"span"),c(29),w(30,"async"),a()(),r(31,"button",17),u("click",function(){return i.onLogout()}),r(32,"span",18),c(33,"\u{1F6AA}"),a(),r(34,"span"),c(35,"\u0412\u044B\u0445\u043E\u0434"),a()()()()),e&2&&(s(5),l("ngIf",i.isAdmin),s(),l("ngIf",i.currentUser),s(2),l("ngIf",!V(9,15,i.themeService.isDarkMode$)),s(2),l("ngIf",V(11,17,i.themeService.isDarkMode$)),s(4),S("active",i.menuOpen),s(4),S("active",i.menuOpen),s(),S("active",i.menuOpen),s(),l("ngIf",i.currentUser),s(2),l("ngIf",i.isAdmin),s(2),l("ngIf",!V(25,19,i.themeService.isDarkMode$)),s(2),l("ngIf",V(27,21,i.themeService.isDarkMode$)),s(3),C(V(30,23,i.themeService.isDarkMode$)?"\u0421\u0432\u0435\u0442\u043B\u0430\u044F \u0442\u0435\u043C\u0430":"\u0422\u0435\u043C\u043D\u0430\u044F \u0442\u0435\u043C\u0430"))},dependencies:[v,M,oe],styles:[".app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:80px;display:flex;align-items:center;justify-content:space-between;padding:0 40px;background:#ffffff80;backdrop-filter:blur(40px);-webkit-backdrop-filter:blur(40px);border-bottom:1px solid rgba(0,71,132,.2);box-shadow:0 4px 30px #0047841a;z-index:100}.dark[_nghost-%COMP%]   .app-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .app-header[_ngcontent-%COMP%]{background:#212529b3;border-bottom:1px solid rgba(0,100,180,.3);box-shadow:0 4px 30px #0009}.header-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;letter-spacing:.3px;color:#1a1a1a}.dark[_nghost-%COMP%]   .header-title[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .header-title[_ngcontent-%COMP%]{color:#fff}.header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 14px;background:#0000000d;border-radius:10px;border:1px solid rgba(0,0,0,.1)}.dark[_nghost-%COMP%]   .user-info[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-info[_ngcontent-%COMP%]{background:#ffffff14;border-color:#ffffff26}.user-badge[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;padding:4px 10px;border-radius:6px;display:inline-flex;align-items:center;gap:4px}.user-badge.admin[_ngcontent-%COMP%]{background:#00478426;color:#004784;border:1px solid rgba(0,71,132,.3)}.dark[_nghost-%COMP%]   .user-badge.admin[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-badge.admin[_ngcontent-%COMP%]{background:#0064b433;color:#64b4ff;border-color:#0064b466}.user-badge.user[_ngcontent-%COMP%]{background:#6c757d26;color:#495057;border:1px solid rgba(108,117,125,.3)}.dark[_nghost-%COMP%]   .user-badge.user[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-badge.user[_ngcontent-%COMP%]{background:#6c757d33;color:#adb5bd;border-color:#6c757d66}.username[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary)}.theme-toggle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:10px 18px;min-width:44px;background:#0000000d;border:1px solid rgba(0,0,0,.1);border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s}.dark[_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]{background:#ffffff14;border:1px solid rgba(255,255,255,.15)}.theme-toggle[_ngcontent-%COMP%]:hover{background:#0047841a;transform:translateY(-2px);box-shadow:0 4px 12px #00478433}.dark[_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .theme-toggle[_ngcontent-%COMP%]:hover{background:#0064b426;box-shadow:0 4px 12px #0064b440}.theme-icon[_ngcontent-%COMP%]{width:20px;height:20px;color:#004784;transition:all .2s}.dark[_nghost-%COMP%]   .theme-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .theme-icon[_ngcontent-%COMP%]{color:#0064b4}.btn-add-task[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:10px 18px;background:var(--primary-color);color:#fff;border:none;border-radius:10px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:0 4px 12px #00478440;position:relative}.btn-add-task[_ngcontent-%COMP%]:hover{background:var(--primary-hover);box-shadow:0 6px 20px #00478459;transform:translateY(-2px)}.btn-add-task[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-logout[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:10px 18px;background:#dc35451a;color:#dc3545;border:1px solid rgba(220,53,69,.3);border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s}.btn-logout[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;border-color:#dc3545;transform:translateY(-2px);box-shadow:0 4px 12px #dc35454d}.plus-icon[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:400;line-height:1;display:flex;align-items:center;justify-content:center}.hamburger[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:center;gap:5px;width:28px;height:28px;background:transparent;border:none;cursor:pointer;padding:0;z-index:1001;position:relative}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;height:3px;background:#004784;border-radius:2px;transition:all .3s}.dark[_nghost-%COMP%]   .hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#64b4ff}.hamburger.active[_ngcontent-%COMP%]{gap:0}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(3px) rotate(45deg)}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-3px) rotate(-45deg)}.mobile-menu-overlay[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:999;opacity:0;pointer-events:none;transition:opacity .3s}.mobile-menu-overlay.active[_ngcontent-%COMP%]{opacity:1;pointer-events:all}.mobile-menu[_ngcontent-%COMP%]{display:none;position:fixed;top:0;right:-280px;width:280px;height:100%;background:#fffffffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);box-shadow:-4px 0 20px #0000001a;z-index:1000;transition:right .3s;flex-direction:column}.dark[_nghost-%COMP%]   .mobile-menu[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .mobile-menu[_ngcontent-%COMP%]{background:#161b22fa;box-shadow:-4px 0 20px #00000080}.mobile-menu.active[_ngcontent-%COMP%]{right:0}.mobile-menu-header[_ngcontent-%COMP%]{padding:24px 20px;border-bottom:1px solid rgba(0,0,0,.1);text-align:center}.dark[_nghost-%COMP%]   .mobile-menu-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .mobile-menu-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1)}.user-badge-mobile[_ngcontent-%COMP%]{display:inline-block;font-size:.9rem;font-weight:600;padding:8px 12px;border-radius:8px;margin-bottom:12px;background:#6c757d26;color:#495057;border:1px solid rgba(108,117,125,.3)}.user-badge-mobile.admin[_ngcontent-%COMP%]{background:#00478426;color:#004784;border:1px solid rgba(0,71,132,.3)}.dark[_nghost-%COMP%]   .user-badge-mobile.admin[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-badge-mobile.admin[_ngcontent-%COMP%]{background:#0064b433;color:#64b4ff;border-color:#0064b466}.dark[_nghost-%COMP%]   .user-badge-mobile[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .user-badge-mobile[_ngcontent-%COMP%]{background:#6c757d33;color:#adb5bd;border-color:#6c757d66}.username-mobile[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--text-primary)}.mobile-menu-items[_ngcontent-%COMP%]{flex:1;padding:12px 0}.mobile-menu-item[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:16px;padding:16px 20px;background:transparent;border:none;color:var(--text-primary);font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s;border-bottom:1px solid rgba(0,0,0,.05)}.dark[_nghost-%COMP%]   .mobile-menu-item[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .mobile-menu-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.05)}.mobile-menu-item[_ngcontent-%COMP%]:hover{background:#00478414}.dark[_nghost-%COMP%]   .mobile-menu-item[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .mobile-menu-item[_ngcontent-%COMP%]:hover{background:#0064b41a}.mobile-menu-item.logout[_ngcontent-%COMP%]{color:#dc3545}.mobile-menu-item.logout[_ngcontent-%COMP%]:hover{background:#dc35451a}.mobile-menu-item.add-task[_ngcontent-%COMP%]{color:#004784;font-weight:600}.dark[_nghost-%COMP%]   .mobile-menu-item.add-task[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .mobile-menu-item.add-task[_ngcontent-%COMP%]{color:#64b4ff}.mobile-menu-item.add-task[_ngcontent-%COMP%]:hover{background:#0047841f}.dark[_nghost-%COMP%]   .mobile-menu-item.add-task[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .mobile-menu-item.add-task[_ngcontent-%COMP%]:hover{background:#0064b426}.mobile-menu-item.add-task[_ngcontent-%COMP%]   .plus-icon[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:300;line-height:1}.mobile-menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:24px;height:24px;color:#004784;flex-shrink:0}.dark[_nghost-%COMP%]   .mobile-menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .mobile-menu-item[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{color:#0064b4}.mobile-menu-item.logout[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{color:#dc3545;font-size:1.3rem}.desktop-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}@media (max-width: 768px){.app-header[_ngcontent-%COMP%]{height:60px;padding:0 12px}.header-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:800}.header-actions[_ngcontent-%COMP%]{gap:8px}.desktop-menu[_ngcontent-%COMP%]{display:none}.hamburger[_ngcontent-%COMP%], .mobile-menu-overlay[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]{display:flex}}@media (max-width: 480px){.app-header[_ngcontent-%COMP%]{height:56px;padding:0 8px}.header-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:800}.header-actions[_ngcontent-%COMP%]{gap:6px}.hamburger[_ngcontent-%COMP%]{width:24px;height:18px}.hamburger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:2.5px}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){transform:translateY(7.5px) rotate(45deg)}.hamburger.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){transform:translateY(-8px) rotate(-45deg)}.mobile-menu[_ngcontent-%COMP%]{width:260px;right:-260px}}"]})};function ke(t,n){if(t&1&&(r(0,"div",8),h(1,"img",9),a()),t&2){let e=d();s(),l("src",e.image,O)("alt",e.title)}}function Me(t,n){if(t&1&&(r(0,"p",10),c(1),a()),t&2){let e=d();s(),C(e.text)}}var R=class t{id;title="";text="";image="";cardClick=new b;onClick(){this.cardClick.emit(this.id)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-task-card"]],inputs:{id:"id",title:"title",text:"text",image:"image"},outputs:{cardClick:"cardClick"},decls:10,vars:3,consts:[[1,"task-card",3,"click"],["class","task-image",4,"ngIf"],[1,"task-content"],[1,"task-title"],["class","task-description",4,"ngIf"],[1,"task-actions"],["title","\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",1,"btn-more"],[1,"more-text"],[1,"task-image"],[3,"src","alt"],[1,"task-description"]],template:function(e,i){e&1&&(r(0,"div",0),u("click",function(){return i.onClick()}),f(1,ke,2,2,"div",1),r(2,"div",2)(3,"h3",3),c(4),a(),f(5,Me,2,1,"p",4),a(),r(6,"div",5)(7,"button",6)(8,"span",7),c(9,"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435"),a()()()()),e&2&&(s(),l("ngIf",i.image),s(3),C(i.title),s(),l("ngIf",i.text))},dependencies:[v,M],styles:['.task-card[_ngcontent-%COMP%]{background:#f8f9fa;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:2px solid rgb(0,71,132);border-radius:16px;padding:0;min-height:280px;height:auto;transition:all .3s ease;cursor:pointer;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 4px 12px #0047841f}.dark[_nghost-%COMP%]   .task-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .task-card[_ngcontent-%COMP%]{background:#343a40;border:2px solid rgb(0,100,180);box-shadow:0 4px 12px #0064b426}.task-card[_ngcontent-%COMP%]:hover{border-color:#003869;box-shadow:0 12px 32px #0047844d;transform:translateY(-6px)}.dark[_nghost-%COMP%]   .task-card[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .task-card[_ngcontent-%COMP%]:hover{border-color:#0078c8;box-shadow:0 12px 32px #0064b473}.task-image[_ngcontent-%COMP%]{width:100%;height:140px;background:#0047840d;position:relative;overflow:hidden}.task-image[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:70%;background:linear-gradient(to top,rgba(0,0,0,.7),transparent);pointer-events:none;z-index:1}.task-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease;display:block}.task-card[_ngcontent-%COMP%]:hover   .task-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.dark[_nghost-%COMP%]   .task-image[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .task-image[_ngcontent-%COMP%]{background:#0064b41a}.task-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px;padding:16px 20px;min-height:100px;position:relative;background:linear-gradient(to bottom,#f8f9fa00,#f8f9fa80,#f8f9fa 16%),#f8f9fa}.dark[_nghost-%COMP%]   .task-content[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .task-content[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#343a4000,#343a4080,#343a40 16%),#343a40}.task-title[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:700;color:var(--text-primary);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;word-break:break-word;letter-spacing:-.01em}.task-description[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:var(--text-secondary);line-height:1.5;display:-webkit-box;-webkit-line-clamp:5;line-clamp:5;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.task-actions[_ngcontent-%COMP%]{position:absolute;bottom:16px;right:20px;opacity:0;transition:opacity .2s;z-index:10}.task-card[_ngcontent-%COMP%]:hover   .task-actions[_ngcontent-%COMP%]{opacity:1}.btn-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:var(--primary-color);color:#fff;border:none;padding:8px 16px;border-radius:8px;font-size:.9rem;font-weight:500;cursor:pointer;transition:all .2s;box-shadow:0 2px 8px #0047844d}.btn-more[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:scale(1.05);box-shadow:0 4px 12px #00478466}@media (max-width: 768px){.task-card[_ngcontent-%COMP%]{min-height:240px}.task-image[_ngcontent-%COMP%]{height:120px}.task-content[_ngcontent-%COMP%]{padding:12px 16px;gap:6px}.task-title[_ngcontent-%COMP%]{font-size:1rem;-webkit-line-clamp:2;line-clamp:2}.task-description[_ngcontent-%COMP%]{font-size:.85rem;-webkit-line-clamp:3;line-clamp:3}.task-actions[_ngcontent-%COMP%]{opacity:1;bottom:12px;right:16px}.btn-more[_ngcontent-%COMP%]{padding:6px 12px;font-size:.85rem}}@media (max-width: 480px){.task-card[_ngcontent-%COMP%]{min-height:220px;border-width:1.5px}.task-image[_ngcontent-%COMP%]{height:100px}.task-content[_ngcontent-%COMP%]{padding:10px 12px}.task-title[_ngcontent-%COMP%]{font-size:.95rem}.task-description[_ngcontent-%COMP%]{font-size:.8rem;-webkit-line-clamp:2;line-clamp:2}.task-actions[_ngcontent-%COMP%]{bottom:10px;right:12px}.btn-more[_ngcontent-%COMP%]{padding:5px 10px;font-size:.8rem}}']})};function Pe(t,n){if(t&1&&(r(0,"h2",18),c(1),a()),t&2){let e=d(2);s(),C(e.task.title)}}function Oe(t,n){if(t&1){let e=x();r(0,"input",19),I("ngModelChange",function(o){p(e);let m=d(2);return D(m.editTitle,o)||(m.editTitle=o),g(o)}),a()}if(t&2){let e=d(2);E("ngModel",e.editTitle)}}function ye(t,n){if(t&1){let e=x();r(0,"div",26),u("click",function(){p(e);let o=d(3);return g(o.openImageFullscreen(o.task.image))}),h(1,"img",27),a()}if(t&2){let e=d(3);s(),l("src",e.task.image,O)("alt",e.task.title)}}function we(t,n){if(t&1&&h(0,"div",28),t&2){let e=d(3);l("innerHTML",e.task.text,ee)}}function Te(t,n){t&1&&(r(0,"div",29)(1,"p",30),c(2,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"),a()())}function Se(t,n){if(t&1&&(r(0,"div",20)(1,"div",21)(2,"span",22),c(3),w(4,"date"),a()(),f(5,ye,2,2,"div",23)(6,we,1,1,"div",24)(7,Te,3,0,"div",25),a()),t&2){let e=d(2);s(3),y("\u0421\u043E\u0437\u0434\u0430\u043D\u043E: ",ie(4,4,e.task.createdAt,"dd.MM.yyyy HH:mm")),s(2),l("ngIf",e.task.image),s(),l("ngIf",e.task.text),s(),l("ngIf",!e.task.text)}}function Ee(t,n){if(t&1){let e=x();r(0,"div",38),h(1,"img",39),r(2,"button",40),u("click",function(){p(e);let o=d(3);return g(o.removeImage())}),c(3," \u2715 "),a()()}if(t&2){let e=d(3);s(),l("src",e.selectedImagePreview||e.task.image,O)}}function De(t,n){if(t&1){let e=x();r(0,"div",31)(1,"div",32)(2,"label"),c(3,"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435:"),a(),r(4,"div",33),f(5,Ee,4,1,"div",34),r(6,"input",35,0),u("change",function(o){p(e);let m=d(2);return g(m.onFileSelected(o))}),a(),r(8,"button",36),u("click",function(){p(e);let o=j(7);return g(o.click())}),c(9),a()()(),r(10,"div",32)(11,"label"),c(12,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435:"),a(),r(13,"textarea",37),I("ngModelChange",function(o){p(e);let m=d(2);return D(m.editText,o)||(m.editText=o),g(o)}),a()()()}if(t&2){let e=d(2);s(5),l("ngIf",e.selectedImagePreview||e.task.image),s(4),y(" \u{1F4F7} ",e.selectedImagePreview||e.task.image?"\u0417\u0430\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u043E\u0442\u043E":"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0444\u043E\u0442\u043E"," "),s(4),E("ngModel",e.editText)}}function Ie(t,n){if(t&1){let e=x();r(0,"button",41),u("click",function(){p(e);let o=d(2);return g(o.respond.emit())}),c(1," \u2709\uFE0F \u041E\u0442\u043A\u043B\u0438\u043A\u043D\u0443\u0442\u044C\u0441\u044F "),a()}if(t&2){let e=d(2);l("disabled",e.isSaving||e.isDeleting)}}function Ve(t,n){t&1&&(r(0,"span"),c(1,"\u{1F5D1}\uFE0F \u0423\u0434\u0430\u043B\u0438\u0442\u044C"),a())}function ze(t,n){t&1&&(r(0,"span",45),c(1,"\u23F3 \u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435..."),a())}function Fe(t,n){if(t&1){let e=x();r(0,"button",42),u("click",function(){p(e);let o=d(2);return g(o.onDelete())}),f(1,Ve,2,0,"span",43)(2,ze,2,0,"span",44),a()}if(t&2){let e=d(2);l("disabled",e.isSaving||e.isDeleting),s(),l("ngIf",!e.isDeleting),s(),l("ngIf",e.isDeleting)}}function Ae(t,n){if(t&1){let e=x();r(0,"button",46),u("click",function(){p(e);let o=d(2);return g(o.startEdit())}),c(1," \u270F\uFE0F \u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C "),a()}if(t&2){let e=d(2);l("disabled",e.isSaving||e.isDeleting)}}function je(t,n){if(t&1){let e=x();r(0,"button",46),u("click",function(){p(e);let o=d(2);return g(o.cancelEdit())}),c(1," \u041E\u0442\u043C\u0435\u043D\u0430 "),a()}if(t&2){let e=d(2);l("disabled",e.isSaving||e.isDeleting)}}function Be(t,n){t&1&&(r(0,"span"),c(1,"\u{1F4BE} \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),a())}function Ye(t,n){t&1&&(r(0,"span",45),c(1,"\u23F3 \u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0435..."),a())}function He(t,n){if(t&1){let e=x();r(0,"button",47),u("click",function(){p(e);let o=d(2);return g(o.saveEdit())}),f(1,Be,2,0,"span",43)(2,Ye,2,0,"span",44),a()}if(t&2){let e=d(2);l("disabled",e.isSaving||e.isDeleting),s(),l("ngIf",!e.isSaving),s(),l("ngIf",e.isSaving)}}function Ue(t,n){if(t&1){let e=x();r(0,"div",3)(1,"div",4),u("touchstart",function(o){p(e);let m=d();return g(m.onTouchStart(o))})("touchmove",function(o){p(e);let m=d();return g(m.onTouchMove(o))})("touchend",function(){p(e);let o=d();return g(o.onTouchEnd())}),r(2,"div",5),f(3,Pe,2,1,"h2",6)(4,Oe,1,1,"input",7),r(5,"button",8),u("click",function(){p(e);let o=d();return g(o.close.emit())}),c(6,"\u2715"),a()(),f(7,Se,8,7,"div",9)(8,De,14,3,"div",10),r(9,"div",11)(10,"div",12),f(11,Ie,2,1,"button",13)(12,Fe,3,3,"button",14),a(),r(13,"div",15),f(14,Ae,2,1,"button",16)(15,je,2,1,"button",16)(16,He,3,3,"button",17),a()()()()}if(t&2){let e=d();s(3),l("ngIf",!e.isEditing),s(),l("ngIf",e.isEditing),s(3),l("ngIf",!e.isEditing),s(),l("ngIf",e.isEditing),s(3),l("ngIf",!e.isEditing),s(),l("ngIf",e.isAdmin&&e.isEditing),s(2),l("ngIf",!e.isEditing&&e.isAdmin),s(),l("ngIf",e.isEditing),s(),l("ngIf",e.isEditing)}}function Xe(t,n){if(t&1){let e=x();r(0,"div",48),u("click",function(){p(e);let o=d();return g(o.closeImageFullscreen())}),r(1,"button",49),u("click",function(){p(e);let o=d();return g(o.closeImageFullscreen())}),c(2,"\u2715"),a(),r(3,"img",50),u("click",function(o){return p(e),g(o.stopPropagation())}),a()()}if(t&2){let e=d();s(3),l("src",e.fullscreenImage,O)}}var W=class t{task=null;isAdmin=!1;close=new b;save=new b;delete=new b;respond=new b;toast=A(T);isEditing=!1;editTitle="";editText="";selectedImagePreview=null;selectedImageFile=null;imageRemoved=!1;fullscreenImage=null;isSaving=!1;isDeleting=!1;touchStartX=0;touchStartY=0;currentTranslateX=0;isDragging=!1;ngOnChanges(){this.task?(this.editTitle=this.task.title,this.editText=this.task.text||"",this.selectedImagePreview=null,this.imageRemoved=!1,this.isEditing=!1,document.body.style.overflow="hidden"):document.body.style.overflow=""}startEdit(){this.isEditing=!0}onFileSelected(n){let e=n.target.files[0];if(e&&e.type.startsWith("image/")){this.selectedImageFile=e,this.imageRemoved=!1;let i=new FileReader;i.onload=o=>{this.selectedImagePreview=o.target.result},i.readAsDataURL(e)}}removeImage(){this.selectedImagePreview=null,this.selectedImageFile=null,this.imageRemoved=!0}saveEdit(){if(this.editTitle.trim()&&!this.isSaving){this.isSaving=!0;let n={title:this.editTitle.trim(),text:this.editText.trim()};this.selectedImagePreview?n.image=this.selectedImagePreview:this.imageRemoved&&(n.image=""),this.save.emit(n),this.isEditing=!1,this.selectedImagePreview=null,this.selectedImageFile=null,this.imageRemoved=!1,this.isSaving=!1}}cancelEdit(){this.editTitle!==this.task?.title||this.editText!==(this.task?.text||"")||this.selectedImageFile!==null||this.imageRemoved?this.toast.confirm("\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435? \u0412\u0441\u0435 \u043D\u0435\u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0431\u0443\u0434\u0443\u0442 \u043F\u043E\u0442\u0435\u0440\u044F\u043D\u044B.",()=>{this.task&&(this.editTitle=this.task.title,this.editText=this.task.text||""),this.isEditing=!1,this.selectedImagePreview=null,this.selectedImageFile=null,this.imageRemoved=!1},void 0,"\u0414\u0430, \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C"):(this.task&&(this.editTitle=this.task.title,this.editText=this.task.text||""),this.isEditing=!1,this.selectedImagePreview=null,this.selectedImageFile=null,this.imageRemoved=!1)}onDelete(){this.isDeleting||this.toast.confirm("\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u0443 \u0437\u0430\u0434\u0430\u0447\u0443? \u042D\u0442\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043D\u0435\u043B\u044C\u0437\u044F \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C.",()=>{this.isDeleting=!0,this.delete.emit(),this.isDeleting=!1},void 0,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C")}openImageFullscreen(n){this.fullscreenImage=n}closeImageFullscreen(){this.fullscreenImage=null}onTouchStart(n){this.touchStartX=n.touches[0].clientX,this.touchStartY=n.touches[0].clientY,this.isDragging=!0}onTouchMove(n){if(!this.isDragging)return;let e=n.touches[0].clientX,i=n.touches[0].clientY,o=e-this.touchStartX,m=i-this.touchStartY;if(Math.abs(o)>Math.abs(m)&&o>0){this.currentTranslateX=o;let _=document.querySelector(".modal-content");_&&(_.style.transform=`translateX(${o}px)`,_.style.transition="none")}}onTouchEnd(){if(!this.isDragging)return;this.isDragging=!1;let n=document.querySelector(".modal-content");n&&(this.currentTranslateX>100?(n.style.transition="transform 0.3s ease",n.style.transform="translateX(100%)",setTimeout(()=>{this.close.emit()},300)):(n.style.transition="transform 0.3s ease",n.style.transform="translateX(0)")),this.currentTranslateX=0}ngOnDestroy(){document.body.style.overflow=""}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-task-detail"]],inputs:{task:"task",isAdmin:"isAdmin"},outputs:{close:"close",save:"save",delete:"delete",respond:"respond"},features:[Z],decls:2,vars:2,consts:[["fileInput",""],["class","modal-backdrop",4,"ngIf"],["class","image-fullscreen",3,"click",4,"ngIf"],[1,"modal-backdrop"],[1,"modal-content",3,"touchstart","touchmove","touchend"],[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","text","placeholder","\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","class","modal-title-edit","autofocus","",3,"ngModel","ngModelChange",4,"ngIf"],["title","\u0417\u0430\u043A\u0440\u044B\u0442\u044C",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],["class","modal-body editing",4,"ngIf"],[1,"modal-footer"],[1,"footer-left"],["class","btn-respond",3,"disabled","click",4,"ngIf"],["class","btn-danger",3,"disabled","click",4,"ngIf"],[1,"footer-right"],["class","btn-secondary",3,"disabled","click",4,"ngIf"],["class","btn-primary",3,"disabled","click",4,"ngIf"],[1,"modal-title"],["type","text","placeholder","\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","autofocus","",1,"modal-title-edit",3,"ngModelChange","ngModel"],[1,"modal-body"],[1,"task-meta"],[1,"task-date"],["class","task-image",3,"click",4,"ngIf"],["class","task-description",3,"innerHTML",4,"ngIf"],["class","task-description empty",4,"ngIf"],[1,"task-image",3,"click"],[3,"src","alt"],[1,"task-description",3,"innerHTML"],[1,"task-description","empty"],[1,"no-description"],[1,"modal-body","editing"],[1,"form-group"],[1,"image-upload-section"],["class","current-image",4,"ngIf"],["type","file","accept","image/*",1,"file-input",3,"change"],["type","button",1,"btn-choose-file",3,"click"],["placeholder","\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438","rows","10",1,"edit-text-large",3,"ngModelChange","ngModel"],[1,"current-image"],["alt","Preview",3,"src"],["type","button","title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",1,"btn-remove-image",3,"click"],[1,"btn-respond",3,"click","disabled"],[1,"btn-danger",3,"click","disabled"],[4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"loading-text"],[1,"btn-secondary",3,"click","disabled"],[1,"btn-primary",3,"click","disabled"],[1,"image-fullscreen",3,"click"],["title","\u0417\u0430\u043A\u0440\u044B\u0442\u044C",1,"btn-close-fullscreen",3,"click"],["alt","Fullscreen",3,"click","src"]],template:function(e,i){e&1&&f(0,Ue,17,9,"div",1)(1,Xe,4,1,"div",2),e&2&&(l("ngIf",i.task),s(),l("ngIf",i.fullscreenImage))},dependencies:[v,M,U,B,Y,H,re],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000b3;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:#fffffff2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(0,0,0,.1);border-radius:16px;width:100%;max-width:1200px;max-height:92vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000001a;animation:_ngcontent-%COMP%_slideUp .3s ease}.dark[_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#0d1117f2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #000c}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid rgba(0,0,0,.1);gap:16px}.dark[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1)}.modal-title[_ngcontent-%COMP%]{flex:1;font-size:1.5rem;font-weight:600;margin:0;color:var(--text-primary);line-height:1.3;word-wrap:break-word;word-break:break-word;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto}.modal-title-edit[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:2px solid rgba(0,0,0,.15);border-radius:8px;background:#00000005;color:var(--text-primary);font-family:inherit;font-size:1.5rem;font-weight:600}.dark[_nghost-%COMP%]   .modal-title-edit[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .modal-title-edit[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid rgba(255,255,255,.2)}.modal-title-edit[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);background:#00000008}.dark[_nghost-%COMP%]   .modal-title-edit[_ngcontent-%COMP%]:focus, .dark   [_nghost-%COMP%]   .modal-title-edit[_ngcontent-%COMP%]:focus{background:#ffffff14}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.8rem;color:var(--text-secondary);cursor:pointer;padding:4px 12px;border-radius:8px;transition:all .2s;line-height:1;flex-shrink:0}.btn-close[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:var(--text-primary)}[_ngcontent-%COMP%]:root.light   .btn-close[_ngcontent-%COMP%]:hover{background:#0000000d}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:24px 32px}.modal-body.editing[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.task-meta[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid rgba(0,0,0,.08);font-size:.9rem;color:var(--text-secondary)}.dark[_nghost-%COMP%]   .task-meta[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .task-meta[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.08)}.task-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.task-image[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:12px;overflow:hidden;border:2px solid rgba(0,71,132,.2);max-height:400px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.task-image[_ngcontent-%COMP%]:hover{border-color:#00478466;box-shadow:0 4px 12px #00478426}.task-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.dark[_nghost-%COMP%]   .task-image[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .task-image[_ngcontent-%COMP%]{border-color:#0064b44d}.dark[_nghost-%COMP%]   .task-image[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .task-image[_ngcontent-%COMP%]:hover{border-color:#0064b480}.task-description[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.8;color:var(--text-primary);white-space:pre-wrap;word-wrap:break-word}.task-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px}.task-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.task-description[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin:16px 0}.task-description.empty[_ngcontent-%COMP%]{text-align:center;padding:40px 0}.no-description[_ngcontent-%COMP%]{color:var(--text-secondary);font-style:italic}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:var(--text-primary)}.image-upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.file-input[_ngcontent-%COMP%]{display:none}.btn-choose-file[_ngcontent-%COMP%]{padding:12px 20px;background:#0047841a;border:2px solid rgba(0,71,132,.3);border-radius:8px;color:#004784;font-weight:600;cursor:pointer;transition:all .2s;font-size:1rem}.btn-choose-file[_ngcontent-%COMP%]:hover{background:#00478426;border-color:#00478480;transform:translateY(-1px)}.dark[_nghost-%COMP%]   .btn-choose-file[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .btn-choose-file[_ngcontent-%COMP%]{background:#0064b426;border-color:#0064b466;color:#64b4ff}.dark[_nghost-%COMP%]   .btn-choose-file[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .btn-choose-file[_ngcontent-%COMP%]:hover{background:#0064b433;border-color:#0064b499}.current-image[_ngcontent-%COMP%]{position:relative;margin-bottom:12px;border-radius:12px;overflow:hidden;border:2px solid rgba(0,71,132,.2);max-height:300px;display:flex;align-items:center;justify-content:center}.current-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:36px;height:36px;background:#dc3545e6;color:#fff;border:2px solid white;border-radius:50%;cursor:pointer;font-size:1.2rem;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s;box-shadow:0 2px 8px #0000004d}.btn-remove-image[_ngcontent-%COMP%]:hover{background:#dc3545;transform:scale(1.1)}.dark[_nghost-%COMP%]   .current-image[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .current-image[_ngcontent-%COMP%]{border-color:#0064b44d}.edit-text-large[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(0,0,0,.15);border-radius:12px;background:#00000005;color:var(--text-primary);font-family:inherit;font-size:1.05rem;line-height:1.8;resize:vertical;min-height:200px}.dark[_nghost-%COMP%]   .edit-text-large[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .edit-text-large[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid rgba(255,255,255,.2)}.edit-text-large[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);background:#00000008}.dark[_nghost-%COMP%]   .edit-text-large[_ngcontent-%COMP%]:focus, .dark   [_nghost-%COMP%]   .edit-text-large[_ngcontent-%COMP%]:focus{background:#ffffff14}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 32px;border-top:1px solid rgba(0,0,0,.1)}.dark[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1)}.footer-left[_ngcontent-%COMP%], .footer-right[_ngcontent-%COMP%]{display:flex;gap:12px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-respond[_ngcontent-%COMP%]{padding:12px 24px;border-radius:10px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s;border:none;display:flex;align-items:center;gap:8px}.btn-respond[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-respond[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #3b82f666}.btn-primary[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:translateY(-1px);box-shadow:0 4px 12px #3b82f666}.btn-secondary[_ngcontent-%COMP%]{background:#0000000d;color:var(--text-primary);border:1px solid rgba(0,0,0,.15)}.dark[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.2)}.btn-secondary[_ngcontent-%COMP%]:hover{background:#00000014;transform:translateY(-1px)}.dark[_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#ffffff26}.btn-danger[_ngcontent-%COMP%]{background:#ef444426;color:#ef4444;border:1px solid rgba(239,68,68,.3)}.btn-danger[_ngcontent-%COMP%]:hover{background:#ef444440;border-color:#ef444480;transform:translateY(-1px)}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:100vh;border-radius:0}.modal-header[_ngcontent-%COMP%]{padding:16px 20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.modal-body[_ngcontent-%COMP%]{padding:16px 20px}.task-title[_ngcontent-%COMP%]{font-size:1.3rem}.task-description[_ngcontent-%COMP%]{font-size:.95rem}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;gap:10px;padding:16px 20px}.footer-left[_ngcontent-%COMP%], .footer-right[_ngcontent-%COMP%]{width:100%;flex-direction:column;gap:10px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-respond[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:10px 20px;font-size:.95rem}.btn-choose-file[_ngcontent-%COMP%]{padding:10px 16px;font-size:.95rem}.current-image[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 480px){.modal-header[_ngcontent-%COMP%]{padding:12px 16px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.modal-body[_ngcontent-%COMP%]{padding:12px 16px}.task-title[_ngcontent-%COMP%]{font-size:1.2rem}.task-description[_ngcontent-%COMP%]{font-size:.9rem}.modal-footer[_ngcontent-%COMP%]{padding:12px 16px;gap:8px}.footer-left[_ngcontent-%COMP%], .footer-right[_ngcontent-%COMP%]{gap:8px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%], .btn-respond[_ngcontent-%COMP%]{padding:9px 16px;font-size:.9rem}.btn-choose-file[_ngcontent-%COMP%]{padding:9px 14px;font-size:.9rem}.current-image[_ngcontent-%COMP%]{max-height:200px}}.image-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000f2;display:flex;align-items:center;justify-content:center;z-index:2000;cursor:zoom-out;animation:_ngcontent-%COMP%_fadeIn .2s ease}.image-fullscreen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:95%;max-height:95%;object-fit:contain;cursor:default;border-radius:8px;box-shadow:0 20px 60px #000c}.btn-close-fullscreen[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;width:50px;height:50px;background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;border:2px solid rgba(255,255,255,.5);border-radius:50%;cursor:pointer;font-size:1.5rem;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s;z-index:2001}.btn-close-fullscreen[_ngcontent-%COMP%]:hover{background:#ffffff4d;border-color:#fff;transform:scale(1.1)}"]})};function Ne(t,n){if(t&1){let e=x();r(0,"button",23),u("click",function(){p(e);let o=d();return g(o.removeImage())}),c(1," \u2715 "),a()}}function Le(t,n){t&1&&(r(0,"span"),c(1,"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"),a())}function Re(t,n){t&1&&(r(0,"span",24),c(1,"\u23F3 \u0421\u043E\u0437\u0434\u0430\u043D\u0438\u0435..."),a())}var q=class t{close=new b;save=new b;toast=A(T);title="";text="";selectedImagePreview="images/task_default.png";selectedImageFile=null;isSaving=!1;touchStartX=0;touchStartY=0;currentTranslateX=0;isDragging=!1;onFileSelected(n){let e=n.target.files[0];if(e&&e.type.startsWith("image/")){this.selectedImageFile=e;let i=new FileReader;i.onload=o=>{this.selectedImagePreview=o.target.result},i.readAsDataURL(e)}}removeImage(){this.selectedImagePreview="images/task_default.png",this.selectedImageFile=null}onSave(){if(this.title.trim()&&!this.isSaving){this.isSaving=!0;let n={title:this.title.trim(),text:this.text.trim()};this.selectedImagePreview&&(n.image=this.selectedImagePreview),this.save.emit(n),this.close.emit(),this.isSaving=!1}}onCancel(){this.title.trim()||this.text.trim()||this.selectedImageFile?this.toast.confirm("\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438? \u0412\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0431\u0443\u0434\u0443\u0442 \u043F\u043E\u0442\u0435\u0440\u044F\u043D\u044B.",()=>{this.close.emit()},void 0,"\u0414\u0430, \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C"):this.close.emit()}onTouchStart(n){this.touchStartX=n.touches[0].clientX,this.touchStartY=n.touches[0].clientY,this.isDragging=!0}onTouchMove(n){if(!this.isDragging)return;let e=n.touches[0].clientX,i=n.touches[0].clientY,o=e-this.touchStartX,m=i-this.touchStartY;if(Math.abs(o)>Math.abs(m)&&o>0){this.currentTranslateX=o;let _=document.querySelector(".modal");_&&(_.style.transform=`translateX(${o}px)`,_.style.transition="none")}}onTouchEnd(){if(!this.isDragging)return;this.isDragging=!1;let n=document.querySelector(".modal");n&&(this.currentTranslateX>100?(n.style.transition="transform 0.3s ease",n.style.transform="translateX(100%)",this.title.trim()||this.text.trim()||this.selectedImageFile?(setTimeout(()=>{n.style.transform="translateX(0)"},100),this.onCancel()):setTimeout(()=>{this.close.emit()},300)):(n.style.transition="transform 0.3s ease",n.style.transform="translateX(0)")),this.currentTranslateX=0}ngOnInit(){document.body.style.overflow="hidden"}ngOnDestroy(){document.body.style.overflow=""}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-task-add"]],outputs:{close:"close",save:"save"},decls:36,vars:9,consts:[["fileInput",""],[1,"modal-overlay"],[1,"modal",3,"touchstart","touchmove","touchend"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"form-group"],[1,"image-upload"],["type","file","accept","image/*",2,"display","none",3,"change"],[1,"image-preview"],["alt","Preview",3,"src"],["type","button","class","btn-remove-image","title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",3,"click",4,"ngIf"],["type","button",1,"upload-btn",3,"click"],[1,"upload-icon"],["for","title"],["id","title","type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435...","maxlength","100","autofocus","",3,"ngModelChange","ngModel"],["for","text"],["id","text","placeholder","\u041E\u043F\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443 \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435...","rows","10",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn-save",3,"click","disabled"],[4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"btn-cancel",3,"click","disabled"],["type","button","title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",1,"btn-remove-image",3,"click"],[1,"loading-text"]],template:function(e,i){if(e&1){let o=x();r(0,"div",1)(1,"div",2),u("touchstart",function(_){return p(o),g(i.onTouchStart(_))})("touchmove",function(_){return p(o),g(i.onTouchMove(_))})("touchend",function(){return p(o),g(i.onTouchEnd())}),r(2,"div",3)(3,"h2"),c(4,"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443"),a(),r(5,"button",4),u("click",function(){return p(o),g(i.onCancel())}),c(6,"\u2715"),a()(),r(7,"div",5)(8,"div",6)(9,"label"),c(10,"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435"),a(),r(11,"div",7)(12,"input",8,0),u("change",function(_){return p(o),g(i.onFileSelected(_))}),a(),r(14,"div",9),h(15,"img",10),f(16,Ne,2,0,"button",11),a(),r(17,"button",12),u("click",function(){p(o);let _=j(13);return g(_.click())}),r(18,"span",13),c(19,"\u{1F4F7}"),a(),r(20,"span"),c(21),a()()()(),r(22,"div",6)(23,"label",14),c(24,"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"),a(),r(25,"input",15),I("ngModelChange",function(_){return p(o),D(i.title,_)||(i.title=_),g(_)}),a()(),r(26,"div",6)(27,"label",16),c(28,"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"),a(),r(29,"textarea",17),I("ngModelChange",function(_){return p(o),D(i.text,_)||(i.text=_),g(_)}),a()()(),r(30,"div",18)(31,"button",19),u("click",function(){return p(o),g(i.onSave())}),f(32,Le,2,0,"span",20)(33,Re,2,0,"span",21),a(),r(34,"button",22),u("click",function(){return p(o),g(i.onCancel())}),c(35,"\u041E\u0442\u043C\u0435\u043D\u0430"),a()()()()}e&2&&(s(15),l("src",i.selectedImagePreview,O),s(),l("ngIf",i.selectedImageFile),s(5),C(i.selectedImageFile?"\u0417\u0430\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u043E\u0442\u043E":"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0444\u043E\u0442\u043E"),s(4),E("ngModel",i.title),s(4),E("ngModel",i.text),s(2),l("disabled",!i.title.trim()||i.isSaving),s(),l("ngIf",!i.isSaving),s(),l("ngIf",i.isSaving),s(),l("disabled",i.isSaving))},dependencies:[v,M,U,B,Y,le,H],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;animation:_ngcontent-%COMP%_fadeIn .2s ease}.modal[_ngcontent-%COMP%]{background:#fffffff2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(0,0,0,.1);border-radius:16px;width:100%;max-width:1200px;max-height:92vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0000001a;animation:_ngcontent-%COMP%_slideUp .3s ease}.dark[_nghost-%COMP%]   .modal[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .modal[_ngcontent-%COMP%]{background:#0d1117f2;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);box-shadow:0 20px 60px #000c}.modal-header[_ngcontent-%COMP%]{padding:20px 24px;border-bottom:1px solid rgba(0,0,0,.1);display:flex;align-items:center;justify-content:space-between}.dark[_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1)}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:var(--text-primary)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.8rem;color:var(--text-secondary);cursor:pointer;padding:4px 12px;border-radius:8px;transition:all .2s;line-height:1}.close-btn[_ngcontent-%COMP%]:hover{background:#0000000d;color:var(--text-primary)}.dark[_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.modal-body[_ngcontent-%COMP%]{padding:24px 32px;overflow-y:auto;flex:1}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid rgba(0,0,0,.15);border-radius:12px;background:#00000005;color:var(--text-primary);font-family:inherit;font-size:1.05rem;line-height:1.8;transition:all .2s}.dark[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:#ffffff0d;border:2px solid rgba(255,255,255,.2)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);background:#00000008}.dark[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .dark   [_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .dark[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .dark   [_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{background:#ffffff14}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;min-height:200px}.image-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.upload-btn[_ngcontent-%COMP%]{padding:12px 20px;background:#0047841a;border:2px solid rgba(0,71,132,.3);border-radius:8px;color:#004784;font-weight:600;cursor:pointer;transition:all .2s;font-size:1rem;display:flex;align-items:center;justify-content:center;gap:8px}.upload-btn[_ngcontent-%COMP%]:hover{background:#00478426;border-color:#00478480;transform:translateY(-1px)}.dark[_nghost-%COMP%]   .upload-btn[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .upload-btn[_ngcontent-%COMP%]{background:#0064b426;border-color:#0064b466;color:#64b4ff}.dark[_nghost-%COMP%]   .upload-btn[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .upload-btn[_ngcontent-%COMP%]:hover{background:#0064b433;border-color:#0064b499}.upload-icon[_ngcontent-%COMP%]{font-size:1.2rem}.image-preview[_ngcontent-%COMP%]{position:relative;border-radius:12px;overflow:hidden;border:2px solid rgba(0,71,132,.2);max-height:400px;display:flex;align-items:center;justify-content:center}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.btn-remove-image[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:36px;height:36px;background:#dc3545e6;color:#fff;border:2px solid white;border-radius:50%;cursor:pointer;font-size:1.2rem;font-weight:700;display:flex;align-items:center;justify-content:center;transition:all .2s;box-shadow:0 2px 8px #0000004d}.btn-remove-image[_ngcontent-%COMP%]:hover{background:#dc3545;transform:scale(1.1)}.dark[_nghost-%COMP%]   .image-preview[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .image-preview[_ngcontent-%COMP%]{border-color:#0064b44d}.modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid rgba(0,0,0,.1);display:flex;gap:12px;justify-content:flex-end}.dark[_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.1)}.btn-cancel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{padding:12px 24px;border-radius:8px;border:none;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.btn-cancel[_ngcontent-%COMP%]{background:#0000000d;color:var(--text-primary)}.btn-cancel[_ngcontent-%COMP%]:hover{background:#0000001a}.dark[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#ffffff1a}.dark[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:#ffffff26}.btn-save[_ngcontent-%COMP%]{background:#004784;color:#fff}.btn-save[_ngcontent-%COMP%]:hover:not(:disabled){background:#003869;transform:translateY(-1px);box-shadow:0 4px 12px #0047844d}.btn-save[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.modal-header[_ngcontent-%COMP%]{padding:16px 20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.modal-body[_ngcontent-%COMP%]{padding:16px 20px}.modal-footer[_ngcontent-%COMP%]{flex-direction:column;padding:16px 20px;gap:10px}.btn-cancel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:.95rem}.upload-btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:.95rem}.image-preview[_ngcontent-%COMP%]{max-height:250px}}@media (max-width: 480px){.modal-header[_ngcontent-%COMP%]{padding:12px 16px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}.modal-body[_ngcontent-%COMP%]{padding:12px 16px}.modal-footer[_ngcontent-%COMP%]{padding:12px 16px;gap:8px}.btn-cancel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{padding:9px 16px;font-size:.9rem}.upload-btn[_ngcontent-%COMP%]{padding:9px 14px;font-size:.9rem}.image-preview[_ngcontent-%COMP%]{max-height:200px}.btn-remove-image[_ngcontent-%COMP%]{width:32px;height:32px;top:10px;right:10px;font-size:1.1rem}}"]})};var G=class t{tasks=Q([{id:1,title:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0434\u0438\u0437\u0430\u0439\u043D \u043B\u0435\u043D\u0434\u0438\u043D\u0433\u0430",text:"\u0420\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u0441\u043E\u0432\u0440\u0435\u043C\u0435\u043D\u043D\u044B\u0439 \u0434\u0438\u0437\u0430\u0439\u043D \u043E\u0434\u043D\u043E\u0441\u0442\u0440\u0430\u043D\u0438\u0447\u043D\u043E\u0433\u043E \u0441\u0430\u0439\u0442\u0430 \u0434\u043B\u044F \u0441\u0442\u0430\u0440\u0442\u0430\u043F\u0430. \u041D\u0443\u0436\u043D\u044B \u043C\u0430\u043A\u0435\u0442\u044B \u0434\u043B\u044F desktop \u0438 mobile \u0432\u0435\u0440\u0441\u0438\u0439.",image:"images/task_default.png",createdAt:new Date},{id:2,title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u0440\u0435\u043A\u043B\u0430\u043C\u0443 \u0432 \u0441\u043E\u0446\u0441\u0435\u0442\u044F\u0445",text:"\u0417\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0442\u0430\u0440\u0433\u0435\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u0443\u044E \u0440\u0435\u043A\u043B\u0430\u043C\u0443 \u0432 \u0412\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u0435 \u0438 Instagram. \u0426\u0435\u043B\u0435\u0432\u0430\u044F \u0430\u0443\u0434\u0438\u0442\u043E\u0440\u0438\u044F: \u043C\u0443\u0436\u0447\u0438\u043D\u044B \u0438 \u0436\u0435\u043D\u0449\u0438\u043D\u044B 25-45 \u043B\u0435\u0442, \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u0443\u044E\u0449\u0438\u0435\u0441\u044F \u0444\u0438\u0442\u043D\u0435\u0441\u043E\u043C.",image:"images/task_default.png",createdAt:new Date},{id:3,title:"\u041D\u0430\u043F\u0438\u0441\u0430\u0442\u044C \u0441\u0442\u0430\u0442\u044C\u0438 \u0434\u043B\u044F \u0431\u043B\u043E\u0433\u0430",text:"\u041F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u0438\u0442\u044C 5 SEO-\u043E\u043F\u0442\u0438\u043C\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u0442\u0430\u0442\u0435\u0439 \u043F\u043E \u0442\u0435\u043C\u0430\u0442\u0438\u043A\u0435 \u0437\u0434\u043E\u0440\u043E\u0432\u043E\u0433\u043E \u043F\u0438\u0442\u0430\u043D\u0438\u044F. \u041E\u0431\u044A\u0435\u043C \u043A\u0430\u0436\u0434\u043E\u0439 \u0441\u0442\u0430\u0442\u044C\u0438: 3000-4000 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432.",image:"images/task_default.png",createdAt:new Date}]);allTasks=this.tasks.asReadonly();addTask(n,e,i){let o={id:Date.now(),title:n,text:e,image:i||"images/task_default.png",createdAt:new Date};this.tasks.update(m=>[...m,o])}deleteTask(n){this.tasks.update(e=>e.filter(i=>i.id!==n))}updateTask(n,e,i,o){this.tasks.update(m=>m.map(_=>_.id===n?$(J($({},_),{title:e,text:i}),o!==void 0&&{image:o}):_))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};var qe=(t,n)=>n.id;function Ge(t,n){if(t&1){let e=x();r(0,"app-task-card",8),u("cardClick",function(o){p(e);let m=d();return g(m.openTask(o))}),a()}if(t&2){let e=n.$implicit;l("id",e.id)("title",e.title)("text",e.text||"")("image",e.image||"")}}function $e(t,n){if(t&1){let e=x();r(0,"button",13),u("click",function(){p(e);let o=d(2);return g(o.addTask())}),r(1,"span",14),c(2,"+"),a(),c(3," \u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443 "),a()}}function Je(t,n){if(t&1&&(r(0,"div",5)(1,"div",9),c(2,"\u{1F4CB}"),a(),r(3,"h2",10),c(4),a(),r(5,"p",11),c(6),a(),f(7,$e,4,0,"button",12),a()),t&2){let e=d();s(4),C(e.authService.isAdmin()?"\u0417\u0430\u0434\u0430\u0447 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442":"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0445 \u0437\u0430\u0434\u0430\u0447"),s(2),y(" ",e.authService.isAdmin()?'\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043A\u043D\u043E\u043F\u043A\u0443 "\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0443" \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u0443\u044E \u0437\u0430\u0434\u0430\u0447\u0443':"\u041F\u043E\u043A\u0430 \u043D\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 \u0434\u043B\u044F \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."," "),s(),l("ngIf",e.authService.isAdmin())}}function Ke(t,n){if(t&1){let e=x();r(0,"app-task-add",15),u("close",function(){p(e);let o=d();return g(o.closeAddModal())})("save",function(o){p(e);let m=d();return g(m.saveNewTask(o))}),a()}}var ue=class t{constructor(n,e,i,o,m){this.taskService=n;this.authService=e;this.router=i;this.toast=o;this.loading=m}selectedTask=null;showAddModal=!1;addTask(){if(!this.authService.isAdmin()){this.toast.error("\u0422\u043E\u043B\u044C\u043A\u043E \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440 \u043C\u043E\u0436\u0435\u0442 \u0434\u043E\u0431\u0430\u0432\u043B\u044F\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0438");return}this.showAddModal=!0}closeAddModal(){this.showAddModal=!1}saveNewTask(n){this.taskService.addTask(n.title,n.text,n.image),this.toast.success("\u0417\u0430\u0434\u0430\u0447\u0430 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0430"),this.showAddModal=!1}openTask(n){let e=this.taskService.allTasks().find(i=>i.id===n);e&&(this.selectedTask=e)}closeTaskDetail(){this.selectedTask=null}saveTaskDetail(n){if(!this.authService.isAdmin()){this.toast.error("\u0422\u043E\u043B\u044C\u043A\u043E \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440 \u043C\u043E\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0438");return}this.selectedTask&&(this.taskService.updateTask(this.selectedTask.id,n.title,n.text,n.image),this.selectedTask=this.taskService.allTasks().find(e=>e.id===this.selectedTask.id)||null,this.toast.success("\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u044B"))}deleteTaskFromDetail(){if(!this.authService.isAdmin()){this.toast.error("\u0422\u043E\u043B\u044C\u043A\u043E \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440 \u043C\u043E\u0436\u0435\u0442 \u0443\u0434\u0430\u043B\u044F\u0442\u044C \u0437\u0430\u0434\u0430\u0447\u0438");return}this.selectedTask&&(this.taskService.deleteTask(this.selectedTask.id),this.toast.success("\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0430"),this.selectedTask=null)}onRespond(){if(this.selectedTask){let n=this.authService.getCurrentUser();this.toast.info(`\u041E\u0442\u043A\u043B\u0438\u043A \u043D\u0430 \u0437\u0430\u0434\u0430\u0447\u0443 "${this.selectedTask.title}" \u043E\u0442 ${n?.username}`)}}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||t)(P(G),P(ce),P(ae),P(T),P(se))};static \u0275cmp=k({type:t,selectors:[["app-tasks"]],decls:9,vars:6,consts:[[3,"addTask","logout","isAdmin","currentUser"],[1,"main-content"],[1,"container"],[1,"tasks-grid"],[3,"id","title","text","image"],[1,"empty-state"],[3,"close","save",4,"ngIf"],[3,"close","save","delete","respond","task","isAdmin"],[3,"cardClick","id","title","text","image"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"],["class","empty-action",3,"click",4,"ngIf"],[1,"empty-action",3,"click"],[1,"plus-icon"],[3,"close","save"]],template:function(e,i){e&1&&(r(0,"app-header",0),u("addTask",function(){return i.addTask()})("logout",function(){return i.logout()}),a(),r(1,"main",1)(2,"div",2)(3,"div",3),te(4,Ge,1,4,"app-task-card",4,qe,!1,Je,8,3,"div",5),a()()(),f(7,Ke,1,0,"app-task-add",6),r(8,"app-task-detail",7),u("close",function(){return i.closeTaskDetail()})("save",function(m){return i.saveTaskDetail(m)})("delete",function(){return i.deleteTaskFromDetail()})("respond",function(){return i.onRespond()}),a()),e&2&&(l("isAdmin",i.authService.isAdmin())("currentUser",i.authService.getCurrentUser()),s(4),ne(i.taskService.allTasks()),s(3),l("ngIf",i.showAddModal),s(),l("task",i.selectedTask)("isAdmin",i.authService.isAdmin()))},dependencies:[v,M,X,R,W,q],styles:[".main-content[_ngcontent-%COMP%]{margin-top:80px;padding:40px 0;min-height:calc(100vh - 80px)}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 40px}.tasks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.empty-state[_ngcontent-%COMP%]{grid-column:1 / -1;text-align:center;padding:80px 20px;display:flex;flex-direction:column;align-items:center;gap:16px}.empty-icon[_ngcontent-%COMP%]{font-size:5rem;opacity:.6;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.empty-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700;color:var(--text-primary)}.empty-description[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:var(--text-secondary);max-width:400px;line-height:1.6}.empty-action[_ngcontent-%COMP%]{margin-top:12px;display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:var(--primary-color);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:0 4px 12px #00478440}.empty-action[_ngcontent-%COMP%]:hover{background:var(--primary-hover);box-shadow:0 6px 20px #00478459;transform:translateY(-2px)}.empty-action[_ngcontent-%COMP%]   .plus-icon[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:300}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{margin-top:60px;padding:20px 0;min-height:calc(100vh - 60px)}.container[_ngcontent-%COMP%]{padding:0 16px}.tasks-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.empty-state[_ngcontent-%COMP%]{padding:60px 16px}.empty-icon[_ngcontent-%COMP%]{font-size:4rem}.empty-title[_ngcontent-%COMP%]{font-size:1.3rem}.empty-description[_ngcontent-%COMP%]{font-size:.95rem}.empty-action[_ngcontent-%COMP%]{padding:10px 20px;font-size:.95rem}}@media (max-width: 480px){.main-content[_ngcontent-%COMP%]{margin-top:56px;padding:16px 0;min-height:calc(100vh - 56px)}.container[_ngcontent-%COMP%]{padding:0 12px}.tasks-grid[_ngcontent-%COMP%]{gap:12px}.empty-state[_ngcontent-%COMP%]{padding:40px 12px}.empty-icon[_ngcontent-%COMP%]{font-size:3.5rem}.empty-title[_ngcontent-%COMP%]{font-size:1.2rem}.empty-description[_ngcontent-%COMP%]{font-size:.9rem}.empty-action[_ngcontent-%COMP%]{padding:9px 18px;font-size:.9rem}}"]})};export{ue as TasksComponent};
